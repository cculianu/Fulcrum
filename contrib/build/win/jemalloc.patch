diff --git a/src/jemalloc.c b/src/jemalloc.c
index ed13718d..e8b73935 100644
--- a/src/jemalloc.c
+++ b/src/jemalloc.c
@@ -1,3 +1,7 @@
+#if defined(_WIN32) && defined(__MINGW32__)
+/* Fixes _aligned_malloc aliased to _mm_malloc by mingw gcc */
+#define _MM_MALLOC_H_INCLUDED
+#endif
 #define JEMALLOC_C_
 #include "jemalloc/internal/jemalloc_preamble.h"
 #include "jemalloc/internal/jemalloc_internal_includes.h"
@@ -2468,6 +2472,15 @@ je_aligned_alloc(size_t alignment, size_t size) {
 	return ret;
 }
 
+#ifdef _WIN32
+JEMALLOC_EXPORT JEMALLOC_ALLOCATOR JEMALLOC_RESTRICT_RETURN
+void JEMALLOC_NOTHROW *
+JEMALLOC_ATTR(malloc) JEMALLOC_ALLOC_SIZE(2)
+_aligned_malloc(size_t size, size_t alignment) {
+	return je_aligned_alloc(alignment, size);
+}
+#endif
+
 JEMALLOC_EXPORT JEMALLOC_ALLOCATOR JEMALLOC_RESTRICT_RETURN
 void JEMALLOC_NOTHROW *
 JEMALLOC_ATTR(malloc) JEMALLOC_ALLOC_SIZE2(1, 2)
@@ -2870,6 +2883,11 @@ je_free(void *ptr) {
 	LOG("core.free.exit", "");
 }
 
+#ifdef _WIN32
+JEMALLOC_EXPORT void JEMALLOC_NOTHROW
+_aligned_free(void *ptr) { je_free(ptr); }
+#endif
+
 /*
  * End malloc(3)-compatible functions.
  */
